<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="clr-namespace:InventoryTracker.ViewModels"
			 xmlns:models="using:InventoryTracker.Models"
			 mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="InventoryTracker.WastedPage"
			 x:DataType="vm:WastedViewModel">
	
	<Border Background="#18191A">
		<Grid ShowGridLines="False">
			<Grid.RowDefinitions>
				<RowDefinition Height="75" />
				<RowDefinition Height="*"/>
			</Grid.RowDefinitions>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="*" />
				<ColumnDefinition Width="Auto" />
				<ColumnDefinition Width="Auto" />
			</Grid.ColumnDefinitions>

			<!-- Header -->
			<TextBlock Text="Inventory" Grid.Row="0"
                       HorizontalAlignment="Left"
                       VerticalAlignment="Center"
                       FontSize="25"
                       Foreground="White"
                       Margin="20" 
					   Grid.Column="0"/>
			<Button Content="+ New Product"
					HorizontalAlignment="Right"
					Grid.Row="0"
					Grid.Column="1"
					Margin="10"
					Command="{Binding NavigateToNewProductCommand}"></Button>
			<Button Content="+ New Category"
					HorizontalAlignment="Right"
					Grid.Row="0"
					Grid.Column="2"
					Margin="10"
					Command="{Binding NavigateToNewCategoryCommand}"></Button>

			<Grid Grid.Row="1" Grid.ColumnSpan="3" ShowGridLines="False">
				<Grid.RowDefinitions>
					<RowDefinition Height="*" />
					<RowDefinition Height="Auto" />
				</Grid.RowDefinitions>

				<Border Background="#242526" Grid.Row="0" 
						HorizontalAlignment="Stretch"
						CornerRadius="10"
						Margin="10">

					<Grid ShowGridLines="False">
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="Auto"/>
							<RowDefinition Height="*"/>
						</Grid.RowDefinitions>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto"/>
							<ColumnDefinition Width="*" />
						</Grid.ColumnDefinitions>

						<TextBox
							Watermark="ðŸ”Ž Search"
							HorizontalAlignment="Left"
							Width="100"
							Margin="10" 
							Grid.Column="0"
							TextChanged="SearchBox_TextChanged"
							/>


						<ComboBox ItemsSource="{Binding CategoryList}"
								  DisplayMemberBinding="{Binding CategoryType}"
								  Grid.Row="0"
								  Grid.Column="1"
								  VerticalAlignment="Center"></ComboBox>

						<Grid Grid.Column="0" Grid.Row="1" Grid.ColumnSpan="2" Margin="10,0,10,0" HorizontalAlignment="Stretch">
							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="1*" />
								<ColumnDefinition Width="1*" />
								<ColumnDefinition Width="1*" />
								<ColumnDefinition Width="1*" />
							</Grid.ColumnDefinitions>

							<TextBlock Text="Quantity" Grid.Column="0" Foreground="White" FontWeight="Bold" />
							<TextBlock Text="SKU" Grid.Column="1" Foreground="White" FontWeight="Bold" />
							<TextBlock Text="Item Name" Grid.Column="2" Foreground="White" FontWeight="Bold" />
							<TextBlock Text="Category" Grid.Column="3" Foreground="White" FontWeight="Bold" />
						</Grid>
						
						<!--Main Inventory-->
						<Border Background="#18191A" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2"
								Margin="10,15,10,10"
								CornerRadius="5">
							<ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
								<ItemsControl ItemsSource="{Binding DisplayedItems}">
									<ItemsControl.ItemTemplate>
										<DataTemplate x:DataType="models:Item">
											<Grid Margin="5" HorizontalAlignment="Stretch">
												<Grid.ColumnDefinitions>
													<ColumnDefinition Width="1*" />
													<ColumnDefinition Width="1*" />
													<ColumnDefinition Width="1*" />
													<ColumnDefinition Width="1*" />
												</Grid.ColumnDefinitions>
												<!--Quantity Layout-->
												<Grid Grid.Column="0">
													<Grid.ColumnDefinitions>
														<ColumnDefinition Width="Auto" />
														<ColumnDefinition Width="Auto" />
														<ColumnDefinition Width="Auto" />
													</Grid.ColumnDefinitions>
													<Button Click="RemoveQuantity_Button" CommandParameter="{Binding}" Content="-" Margin="2" Grid.Column="0"></Button>
													<TextBox Text="{Binding Quantity, Mode=TwoWay}" Grid.Column="1"
															 HorizontalContentAlignment="Center"
															 VerticalContentAlignment="Center"
															 TextChanged="QuantityTextBox_Changed"
															 Tag="{Binding}"></TextBox>
													<Button Click="AddQuantity_Click" CommandParameter="{Binding}" Content="+" Margin="2" Grid.Column="2"></Button>
												</Grid>

												<TextBlock Grid.Column="1" Text="{Binding SkuID}" Foreground="White" />
												<TextBlock Grid.Column="2" Text="{Binding ItemName}" Foreground="White" />
												<TextBlock Grid.Column="3" Text="{Binding Category}" Foreground="White" />
											</Grid>
										</DataTemplate>
									</ItemsControl.ItemTemplate>
								</ItemsControl>
							</ScrollViewer>

							



						</Border>
						
					</Grid>
					
				</Border>
				
			</Grid>
			
			
			
			
			
		</Grid>
	</Border>
</UserControl>
